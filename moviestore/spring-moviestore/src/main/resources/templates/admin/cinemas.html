<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Admin Cinemas</title><link rel="stylesheet" href="/css/app.css"></head>
<body>
<div th:replace="~{fragments/header :: siteHeader}"></div>
<main class="container">
  <h1>Cinemas</h1>
  <form method="post" action="/admin/cinemas" class="form grid-2">
    <input name="name" placeholder="Cinema name" required>
    <input name="city" placeholder="City" required>
    <button class="btn" type="submit">Add Cinema</button>
  </form>
  <table class="table"><thead><tr><th>Image</th><th>Name</th><th>City</th><th>Upload</th><th></th></tr></thead><tbody>
  <tr th:each="cinema : ${cinemas}">
    <td>
      <img th:if="${cinema.image}" th:src="${cinema.image}" class="table-image" alt="cinema"/>
      <span th:unless="${cinema.image}">No image</span>
    </td>
    <td th:text="${cinema.name}"></td><td th:text="${cinema.city}"></td>
    <td>
      <form method="post" th:action="@{/admin/cinemas/{id}/image(id=${cinema.id})}" enctype="multipart/form-data" class="inline-form">
        <input type="file" name="file" accept="image/*" required>
        <button class="btn secondary" type="submit">Upload</button>
      </form>
    </td>
    <td><form method="post" th:action="@{/admin/cinemas/{id}/delete(id=${cinema.id})}"><button class="btn danger" type="submit">Delete</button></form></td>
  </tr>
  </tbody></table>
</main>
<div th:replace="~{fragments/footer :: siteFooter}"></div>
</body>
</html>
